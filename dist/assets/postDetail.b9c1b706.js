import{p as I,s as d}from"./toastify.f6c591f2.js";/* empty css                    */import{d as y}from"./vendor.423aa499.js";function x({modalId:t,imgSelector:e,preSelector:n,nextSelector:s}){const l=document.getElementById(t),m=document.querySelector(e),u=document.querySelector(n),g=document.querySelector(s),f=document.getElementById("numberOfImg");let a=[],o=0;function i(r){m.src=a[r].src,f.textContent=`Image ${r+1} / ${a.length}`,h.show()}if(!l)return;let h=new bootstrap.Modal(l);document.addEventListener("click",r=>{const{target:c}=r;c.tagName!=="IMG"||!c.dataset.album||(a=document.querySelectorAll('img[data-album = "post-album"]'),o=[...a].findIndex(p=>p===c),i(o))}),u.addEventListener("click",()=>{o=(o-1+a.length)%a.length,i(o)}),g.addEventListener("click",()=>{o=(o+1)%a.length,i(o)})}function S(t){if(!t)return;d(document,"#postDeatilTitle",t.title),d(document,"#postContentDescription",t.description),d(document,"#postDetailAuthor",t.author),d(document,"#postDetialTimeSpan",y(t.updatedAt).format("- DD/MM/YYYY"));const e=document.querySelector("#postHeroImage");if(!e)return;e.style.backgroundImage=`url(${t.imageUrl})`,e.addEventListener("error",()=>{});const n=document.querySelector("#goToEditPageLink");n&&(n.innerHTML='<i class="far fa-edit"></i>Edit Page',n.href=`/add-edit-post.html?id=${t.id}`)}(async()=>{x({modalId:"lightBox",imgSelector:'img[data-id="lightBoxImg"]',preSelector:'button[data-id="lightBoxPre"]',nextSelector:'button[data-id="lightBoxNext"]'});try{const e=new URLSearchParams(window.location.search).get("id");if(!e)return;const n=await I.getById(e);S(n)}catch(t){console.log("fail to load post detail pgae",t)}})();
